{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tryONhub</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css' %}" 
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
     crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{% static 'style.css' %}">

</head>
<body>
    <!-- navbar -->
    <div id="home"></div>
    <nav class="navbar navbar-expand-sm  shadow p sticky-top">
        <div class="container">
          <a class="navbar-brand" href="#">TryONhub        
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav mx-auto">
           
              <li class="nav-item">
                <a class="nav-link" href="#home"><button >
                    Home
                </button></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#about"><button >
                    About
                </button></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#featured"><button >
                    Featured
                </button></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="products"><button >
                    Products
                </button></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#blog"><button >
                    Blog
                </button></a>
              </li>
              <!-- Update the cart section with a button to open the side panel -->
            <li class="nav-item">
              <a class="nav-link" href="#" onclick="openCartPanel()">
                  <button>Cart</button>
              </a>
          </li>

              <!-- Add side panel for displaying cart items -->
              <div id="cartPanel" class="cart-panel">
                  <button class="close-btn" onclick="closeCartPanel()">×</button>
                      <h3>Shopping Cart</h3>
                          <div id="cartItemsPanel">
                          <!-- Cart items will be added here -->
                          </div>
                          <div class="panel-footer">
                              <span id="text">Total Amount: $<span id="totalAmount">0.00</span></span>
                              <button class="btn btn-success"  onclick="buy()">Buy</button>
                              <button class="btn btn-danger"   onclick="clearCart()">Clear</button>
                          </div>
              </div>
              
              <form class="d-flex">
                <input class="form-control me-3 rounded-pill bg-dark" type="search" placeholder="Search a product to try on!" aria-label="Search">
              </form>
             
              
            </ul>
            {% if user.is_authenticated %}
            <a href="logout">
                <button class="btn-primary rounded-pill"> Logout
                </button>
            {% else %}
              <a href="signup">
                  <button class="btn-primary rounded-pill"> Sign up
                  </button>
              </a>
              <a href="login2">
                <button class="btn-primary rounded-pill">Login
                </button>
            {% endif %}
          </a>
          </div>
        </div>
      </nav>
    <div class="hero-section">
      <div class="hero-left">
        <h1 class="shadow">Redefining <br><span class="auto-type"></span></h1>
        <p>A virtual conversational platform to try-on jewellery</p>
        <button class="btn-main">Explore</button>
        
      </div>
      <div class="hero-right">
        <video src="{% static 'video1.mp4' %}" autoplay loop muted></video>
      </div>
      </div>
    </div>
    <br>
    <br>
    <br>
    <div id="about" >
      
      <div class="about-main">
        <br>
        <br>
        <br>
        <video src="{% static 'globe.mp4' %}" autoplay loop muted></video>
        <p class="aboutText"><br><br>Welcome to TryONhub, a harmonious blend of Unity Engine's AR capabilities, Django's robust backend, and the dynamic trio of HTML, CSS, and JavaScript for an immersive frontend experience.

        Our AR experience, powered by Unity Engine, brings jewelry to life in a virtual space, allowing you to try on and appreciate each piece in intricate detail. Behind the scenes, Django orchestrates the seamless integration of data and functionalities, ensuring a smooth and responsive user experience.
         
        On the frontend, our HTML, CSS, and JavaScript trio crafts an engaging interface, providing an intuitive and visually appealing platform. This synergy of technologies not only exemplifies our commitment to innovation but also ensures a cutting-edge and user-friendly environment for exploring and selecting your perfect piece of jewelry.
        
        At TryONhub, we take pride in pushing the boundaries of technology to redefine how you experience and interact with jewelry. Join us on this journey where Unity's AR magic, Django's backend prowess, and the web trio's frontend finesse converge to create a one-of-a-kind virtual jewelry haven.</p>
      
  </div>

</div>
  
  <div id="featured" class="container">
    <br>
      
    <br>
    <h2 style="color: white;">Featuring</h2>
    <div id="generatedCards" class="row">
        <!-- Generated cards will be added here -->
    </div>
</div>

<br>
<br>
 
    <!-- Additional Features Section -->
    <div class="feature-section">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <i class="fas fa-gem feature-icon"></i>
                    <h3 class="feature-heading">Quality Materials</h3>
                    <p>We use only the finest materials to create exquisite jewelry.</p>
                </div>
                <div class="col-md-4">
                    <i class="fas fa-gift feature-icon"></i>
                    <h3 class="feature-heading">Gifts & Special Occasions</h3>
                    <p>Find the perfect gift for your loved ones on special occasions.</p>
                </div>
                <div class="col-md-4">
                    <i class="fas fa-shipping-fast feature-icon"></i>
                    <h3 class="feature-heading">Fast Shipping</h3>
                    <p>Enjoy fast and reliable shipping to your doorstep.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- End of Additional Features Section -->

</div>

<div id="blog" class="container">
  <br>
  <h2>Upcoming Updates</h2>
  <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="{% static 'update1.jpg' %}" class="d-block w-100" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <h5>Seller Side Launch</h5>
          <p>Coming next - unlock the power of selling your products on our platform</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="{% static 'update2.jpg' %}" class="d-block w-100" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <h5>Celebrating Local Jewellery</h5>
          <p>Stay tuned for a special spotlight on local traditional jewellery to promote Indian craftsmen and small scale businesses</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="{% static 'update3.jpg' %}" class="d-block w-100" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <h5>Enhancing Scalabilty</h5>
          <p>Get ready for a smoother experience as we gear up to expand our platform's scalabilty and capabilties</p>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>

<!-- Bootstrap Modals for Try On -->
<div class="modal fade" id="tryOnModal" tabindex="-1" role="dialog" aria-labelledby="tryOnModalLabel" aria-hidden="true">
    <!-- Add your virtual try-on content here -->
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="tryOnModalLabel">Permission</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Add your virtual try-on content here -->
                <p>Allow access to your camera.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-secondary">Allow</button>
              </div>
        </div>
    </div>
  </div>  


<!-- Bootstrap JS scripts -->
<script>
    
  // Function to generate Bootstrap cards
  function generateCard(productName, productDescription, imageSrc, price) {
    var cardContainer = document.getElementById('generatedCards');
  
    var card = document.createElement('div');
    card.classList.add('col-md-4');
    card.innerHTML = `
        <div class="card product-card abc" style="width: 18rem;">
            <img class="card-img-top" src="${imageSrc}" alt="${productName} Image">
            <div class="card-body content-box">
                <h5 class="card-title" style="font-weight: bold;">${productName}</h5>
                <p class="card-text" style="font-size: 1.2rem;">${productDescription}</p>
                <p class="card-price" data-price="${price}">₹ ${price.toFixed(2)}</p>
                <div class="btn-container">
                  <button type="button" class="btn btn-success text-nowrap" onclick="addToCart('${productName}', '${productDescription}', '${imageSrc}', ${price})">Add to Cart</button>
                    <button type="button" class="btn btn-success text-nowrap" data-bs-toggle="modal" data-bs-target="#tryOnModal">
                        Try On
                    </button>
                </div>
            </div>
        </div>
    `;
  
    cardContainer.appendChild(card);
  
    document.addEventListener('DOMContentLoaded', function () {
      var myModal = new bootstrap.Modal(document.getElementById('tryOnModal'));
  
      var tryOnButtons = document.querySelectorAll('.try-on-button');
  
      tryOnButtons.forEach(function (button) {
          button.addEventListener('click', function () {
              myModal.show();
          });
      });
  });
  
  }
  
  // Call the function to generate cards
  generateCard('Diamond Necklace', 'Bridal Finish', '/media/mainjewl/diamond-necklace-500x500.jpg', 150000);
  generateCard('Diamond Earring', 'Tassel', 'media/mainjewl/earring.jpg', 95000);
  generateCard('Diamond Ring', 'Classic', 'media/mainjewl/file.png', 125000);
  </script>
  
  
      <script>
          
          // Add functions for opening and closing the side panel
  function openCartPanel() {
      document.getElementById('cartPanel').style.width = '350px';
  }
  
  function closeCartPanel() {
      document.getElementById('cartPanel').style.width = '0';
  }
  
   // Function to calculate and update the total amount
   function calculateTotal() {
    var totalAmountElement = document.getElementById('totalAmount');
    var cartItems = document.querySelectorAll('#cartItemsPanel .dropdown-item');
    var totalAmount = 0;
  
    // Iterate through each cart item and calculate the total amount
    cartItems.forEach(function (cartItem) {
        var price = parseFloat(cartItem.querySelector('.price').textContent.replace('$', ''));
        var quantity = parseInt(cartItem.querySelector('.quantity').textContent, 10);
        totalAmount += price * quantity;
    });
  
    // Update the total amount in the HTML
    totalAmountElement.textContent = totalAmount.toFixed(2);
  }
  
  // Function to add a product to the cart
  function addToCart(productName, productDescription, imageSrc, price) {
    var cartItemsContainer = document.getElementById('cartItemsPanel');
    var existingCartItem = cartItemsContainer.querySelector(`[data-product="${productName}"]`);
  
    if (existingCartItem) {
        // If item already exists, increment quantity
        var quantityElement = existingCartItem.querySelector('.quantity');
        var quantity = parseInt(quantityElement.textContent, 10);
        quantityElement.textContent = quantity + 1;
    } else {
        // If item doesn't exist, add new item
        var cartItem = document.createElement('div');
        cartItem.innerHTML = `
            <div class="dropdown-item" data-product="${productName}">
                <img src="${imageSrc}" alt="${productName} Image" style="width: 30px; height: 30px; margin-right: 10px;">
                <span>${productName}</span>
                <span class="price">$${price.toFixed(2)}</span>
                <button class="btn btn-sm btn-success ml-2" onclick="decrementQuantity(this)">-</button>
                <span class="quantity">1</span>
                <button class="btn btn-sm btn-success ml-2" onclick="incrementQuantity(this)">+</button>
            </div>
        `;
        cartItemsContainer.appendChild(cartItem);
    }
  
    // Call calculateTotal to update the total amount
    calculateTotal();
  }
  
  // Increment quantity function
  function incrementQuantity(button) {
    var quantityElement = button.previousElementSibling;
    var quantity = parseInt(quantityElement.textContent, 10);
    quantityElement.textContent = quantity + 1;
  
    // Call calculateTotal to update the total amount
    calculateTotal();
  }
  
  // Decrement quantity function
  function decrementQuantity(button) {
    var quantityElement = button.nextElementSibling;
    var quantity = parseInt(quantityElement.textContent, 10);
  
    if (quantity > 1) {
        quantityElement.textContent = quantity - 1;
    } else {
        // Optionally, remove the item from the cart if quantity is 1
        var cartItem = button.parentNode;
        cartItem.parentNode.removeChild(cartItem);
    }
  
    // Call calculateTotal to update the total amount
    calculateTotal();
  }
  
  // Clear cart function
  function clearCart() {
    var cartItemsContainer = document.getElementById('cartItemsPanel');
    cartItemsContainer.innerHTML = ''; // Remove all items
  
    // Call calculateTotal to update the total amount (should be 0 after clearing)
    calculateTotal();
  }
  
  // Buy button function (you can customize this for your checkout process)
  function buy() {
    alert('Initiating checkout. Implement your checkout logic here.');
    // You may want to redirect to a checkout page or perform other checkout actions.
    // Replace the alert with your actual checkout logic.
  }
          
       </script>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> 
  <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script> 
  
  <script>
    var typed = new Typed(".auto-type",{
      strings: ["Shopping","E-Commerce","Experiences","Augmented Reality"],
      typeSpeed: 120,
      backSpeed: 75,
      loop: true
  })
  </script>
  
  </body>
  </html>